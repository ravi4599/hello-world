<COMPONENT>
	<HEADER PLATEFORM="ALL" SERIAL="" VERSION="0.100" STATUS="ALPHA"
		COMPATIBILITY="ALL" AUTHOR="Usman Zubair" RELEASE_DATE="20161123"
		STARTABLE="true" LOG4J_ENABLED="true">
		<SIGNATURE />
	</HEADER>

  <FAMILIES>
    <FAMILY>Databases/MS SQL Server</FAMILY>
  </FAMILIES>

	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>

	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="0" />
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="1" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK" MAX_OUTPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_ERROR" MAX_OUTPUT="1" />
		<CONNECTOR CTYPE="RUN_IF" MAX_OUTPUT="1" />
	</CONNECTORS>

	<PARAMETERS>
	
		<PARAMETER NAME="PROPERTY" FIELD="PROPERTY_TYPE" NUM_ROW="1"
			REPOSITORY_VALUE="DATABASE:SQL_SERVER" SHOW_IF="USE_EXISTING_CONNECTION == 'false'" GROUP="DB_CONFIG" />

		<PARAMETER NAME="USE_EXISTING_CONNECTION" FIELD="CHECK"
			NUM_ROW="2" GROUP="DB_CONFIG">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="CONNECTION" FIELD="COMPONENT_LIST"
			REQUIRED="true" FILTER="tMSSqlDWConnection" NUM_ROW="2"
			SHOW_IF="USE_EXISTING_CONNECTION == 'true'" DYNAMIC_SETTINGS="true"
			GROUP="DB_CONFIG" />
		
		<PARAMETER NAME="HOST" FIELD="TEXT" NUM_ROW="30" GROUP="DB_CONFIG" REPOSITORY_VALUE="SERVER_NAME" SHOW_IF="USE_EXISTING_CONNECTION == 'false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="PORT" FIELD="TEXT" NUM_ROW="30" GROUP="DB_CONFIG" REPOSITORY_VALUE="PORT" SHOW_IF="USE_EXISTING_CONNECTION == 'false'">
			<DEFAULT>"1433"</DEFAULT>
		</PARAMETER>
 
	    <PARAMETER NAME="DB_SCHEMA" FIELD="TEXT" NUM_ROW="30" GROUP="DB_CONFIG" REPOSITORY_VALUE="SCHEMA" SHOW_IF="USE_EXISTING_CONNECTION == 'false'">
	      <DEFAULT>""</DEFAULT>
	    </PARAMETER>

		<PARAMETER NAME="DBNAME" FIELD="TEXT" NUM_ROW="40" GROUP="DB_CONFIG" REPOSITORY_VALUE="SID" REQUIRED="true" SHOW_IF="USE_EXISTING_CONNECTION == 'false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="TYPE" FIELD="TEXT" NUM_ROW="30" GROUP="DB_CONFIG" SHOW="false" REPOSITORY_VALUE="TYPE" SHOW_IF="USE_EXISTING_CONNECTION == 'false'">
	      <DEFAULT>MSSQL</DEFAULT>
	    </PARAMETER>

		<PARAMETER NAME="USER" FIELD="TEXT" NUM_ROW="50" GROUP="DB_CONFIG" REPOSITORY_VALUE="USERNAME" REQUIRED="true" SHOW_IF="USE_EXISTING_CONNECTION == 'false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="PASS" FIELD="PASSWORD" NUM_ROW="50" GROUP="DB_CONFIG" REPOSITORY_VALUE="PASSWORD" REQUIRED="true" SHOW_IF="USE_EXISTING_CONNECTION == 'false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="PROPERTIES" FIELD="TEXT" GROUP="DB_CONFIG" NUM_ROW="60" REPOSITORY_VALUE="PROPERTIES_STRING" SHOW_IF="USE_EXISTING_CONNECTION == 'false'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="TABLE" FIELD="DBTABLE" GROUP="DB_CONFIG" NUM_ROW="65" REQUIRED="true">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

	    <PARAMETER NAME="TABLE_ACTION" FIELD="CLOSED_LIST" NUM_ROW="70" NOT_SHOW_IF="PARALLELIZE == 'true'">
	      <ITEMS DEFAULT="NONE">
	        <ITEM NAME="NONE" VALUE="NONE" />
	        <ITEM NAME="DROP_CREATE" VALUE="DROP_CREATE"/>
	        <ITEM NAME="CREATE" VALUE="CREATE"/>
	        <ITEM NAME="CREATE_IF_NOT_EXISTS" VALUE="CREATE_IF_NOT_EXISTS"/>
	        <ITEM NAME="DROP_IF_EXISTS_AND_CREATE" VALUE="DROP_IF_EXISTS_AND_CREATE" />
	        <ITEM NAME="CLEAR" VALUE="CLEAR"/>
	        <ITEM NAME="TRUNCATE" VALUE="TRUNCATE"/>
	      </ITEMS>
	    </PARAMETER>

		<PARAMETER NAME="SCHEMA_FLOW" FIELD="SCHEMA_TYPE" NUM_ROW="80">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="MANUAL_SCHEMA" FIELD="CHECK" NUM_ROW="90">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="MANUAL_SCHEMA_LIST" FIELD="TEXT" NUM_ROW="90" SHOW_IF="MANUAL_SCHEMA == 'true'">
			<DEFAULT>"ProductKey int NOT NULL, ProductLabel nvarchar(255), ProductName nvarchar(500) NULL"</DEFAULT>
		</PARAMETER>		
		
		<PARAMETER NAME="AZURE_STORAGE" FIELD="CLOSED_LIST" REQUIRED="true" NUM_ROW="100" GROUP="AZURE_CONNECTION">
			<ITEMS DEFAULT="BLOB">
				<ITEM NAME="BLOB" VALUE="BLOB" />
				<ITEM NAME="ADLS" VALUE="ADLS"/>
			</ITEMS>
		</PARAMETER>
		
    
		<PARAMETER NAME="ACCOUNT_NAME" FIELD="TEXT" NUM_ROW="110"	REQUIRED="true"	GROUP="AZURE_CONNECTION">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="SECRET_KEY" FIELD="PASSWORD" NUM_ROW="110" REQUIRED="true"	GROUP="AZURE_CONNECTION" SHOW_IF="AZURE_STORAGE == 'BLOB'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="PRINCIPAL_KEY" FIELD="PASSWORD" NUM_ROW="110" REQUIRED="true"	GROUP="AZURE_CONNECTION" SHOW_IF="AZURE_STORAGE == 'ADLS'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
	
		<PARAMETER NAME="CONTAINER" FIELD="TEXT" NUM_ROW="130" GROUP="AZURE_CONNECTION"	REQUIRED="true" SHOW_IF="AZURE_STORAGE == 'BLOB'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="CLIENT_ID" FIELD="TEXT" NUM_ROW="130" GROUP="AZURE_CONNECTION"	REQUIRED="true" SHOW_IF="AZURE_STORAGE == 'ADLS'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="ENDPOINT" FIELD="TEXT" NUM_ROW="130" GROUP="AZURE_CONNECTION"	REQUIRED="true" SHOW_IF="AZURE_STORAGE == 'ADLS'">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="AZURE_LOCATION" FIELD="TEXT"	NUM_ROW="140" GROUP="AZURE_CONNECTION"	REQUIRED="true">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="MAPPING"   FIELD="MAPPING_TYPE"    NUM_ROW="150"    SHOW="false"   >
	      <DEFAULT>id_MSSQL</DEFAULT>
	    </PARAMETER>
		
	</PARAMETERS>

	<ADVANCED_PARAMETERS>
	
		<PARAMETER NAME="IMPORT_TYPE" FIELD="CLOSED_LIST" NUM_ROW="1"
			REQUIRED="true" GROUP="LOAD_DETAILS">
			<ITEMS DEFAULT="DELIMITED_TEXT">
				<ITEM NAME="DELIMITED_TEXT" VALUE="DELIMITED_TEXT" />
				<ITEM NAME="HIVE_RCFILE" VALUE="HIVE_RCFILE" />
				<ITEM NAME="HIVE_ORC" VALUE="HIVE_ORC" />
				<ITEM NAME="PARQUET" VALUE="PARQUET" />
			</ITEMS>
		</PARAMETER>
	
		<PARAMETER NAME="FIELDSEPARATOR" GROUP="LOAD_DETAILS" FIELD="TEXT" NUM_ROW="2" REPOSITORY_VALUE="FIELD_SEPARATOR" SHOW_IF="IMPORT_TYPE=='DELIMITED_TEXT'">
			<DEFAULT>";"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="USESTRINGDELIM" FIELD="CLOSED_LIST" NUM_ROW="2" GROUP="LOAD_DETAILS" SHOW_IF="IMPORT_TYPE=='DELIMITED_TEXT'">
			<ITEMS DEFAULT="EMPTY">
				<ITEM NAME="EMPTY" VALUE="EMPTY"/>
				<ITEM NAME="CUSTOM" VALUE="CUSTOM"/>
			</ITEMS>
        </PARAMETER>	
		
		<PARAMETER NAME="STRINGDELIMITER" GROUP="LOAD_DETAILS" FIELD="TEXT" NUM_ROW="2" REPOSITORY_VALUE="STRING_DELIMITER" SHOW_IF="(IMPORT_TYPE=='DELIMITED_TEXT' AND USESTRINGDELIM == 'CUSTOM')">
			<DEFAULT>"\""</DEFAULT>
		</PARAMETER>	

		<PARAMETER NAME="DATE_FORMAT" FIELD="CLOSED_LIST" NUM_ROW="3" GROUP="LOAD_DETAILS" SHOW_IF="IMPORT_TYPE=='DELIMITED_TEXT'">
			<ITEMS DEFAULT="NONE">
				<ITEM NAME="NONE" VALUE="NONE"/>
				<ITEM NAME="PATTERN" VALUE="PATTERN"/>
			</ITEMS>
        </PARAMETER>	

		<PARAMETER NAME="DATE_PATTERN" GROUP="LOAD_DETAILS" FIELD="TEXT" NUM_ROW="3" SHOW_IF="(IMPORT_TYPE=='DELIMITED_TEXT' AND DATE_FORMAT == 'PATTERN')">
			<DEFAULT>"yyyy-MM-dd"</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="USE_TYPE_DEFAULT" FIELD="CLOSED_LIST" NUM_ROW="4" GROUP="LOAD_DETAILS" SHOW_IF="IMPORT_TYPE=='DELIMITED_TEXT'">
			<ITEMS DEFAULT="FALSE">
				<ITEM NAME="FALSE" VALUE="FALSE"/>
				<ITEM NAME="TRUE" VALUE="TRUE"/>
			</ITEMS>
        </PARAMETER>	

		<PARAMETER NAME="COMPRESS" FIELD="CHECK" NUM_ROW="6" REQUIRED="true" GROUP="LOAD_DETAILS">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="COMPRESSION_TEXT" FIELD="CLOSED_LIST" NUM_ROW="6" GROUP="LOAD_DETAILS" SHOW_IF="COMPRESS=='true' AND (IMPORT_TYPE == 'DELIMITED_TEXT')">
			<ITEMS DEFAULT="DEFAULT">
				<ITEM NAME="DEFAULT" VALUE="org.apache.hadoop.io.compress.DefaultCodec"/>
				<ITEM NAME="GZIP" VALUE="org.apache.hadoop.io.compress.GzipCodec"/>
			</ITEMS>
        </PARAMETER>	

		<PARAMETER NAME="COMPRESSION_RC" FIELD="CLOSED_LIST" NUM_ROW="6" GROUP="LOAD_DETAILS" SHOW_IF="COMPRESS=='true' AND (IMPORT_TYPE == 'HIVE_RCFILE')">
			<ITEMS DEFAULT="DEFAULT">
				<ITEM NAME="DEFAULT" VALUE="org.apache.hadoop.io.compress.DefaultCodec"/>
			</ITEMS>
        </PARAMETER>
		
		<PARAMETER NAME="SERDE_METHOD" FIELD="CLOSED_LIST" NUM_ROW="5" GROUP="LOAD_DETAILS" SHOW_IF="IMPORT_TYPE == 'HIVE_RCFILE'">
			<ITEMS DEFAULT="LAZY">
				<ITEM NAME="LAZY" VALUE="org.apache.hadoop.hive.serde2.columnar.LazyBinaryColumnarSerDe"/>
				<ITEM NAME="COLUMNAR" VALUE="org.apache.hadoop.hive.serde2.columnar.ColumnarSerDe"/>
			</ITEMS>
        </PARAMETER>		

		<PARAMETER NAME="COMPRESSION_ORC" FIELD="CLOSED_LIST" NUM_ROW="6" GROUP="LOAD_DETAILS" SHOW_IF="COMPRESS=='true' AND (IMPORT_TYPE == 'HIVE_ORC')">
			<ITEMS DEFAULT="DEFAULT">
				<ITEM NAME="DEFAULT" VALUE="org.apache.hadoop.io.compress.DefaultCodec"/>
				<ITEM NAME="SNAPPY" VALUE="org.apache.hadoop.io.compress.SnappyCodec"/>
			</ITEMS>
        </PARAMETER>	

		<PARAMETER NAME="COMPRESSION_PARQUET" FIELD="CLOSED_LIST" NUM_ROW="6" GROUP="LOAD_DETAILS" SHOW_IF="COMPRESS=='true' AND (IMPORT_TYPE == 'PARQUET')">
			<ITEMS DEFAULT="GZIP">
				<ITEM NAME="GZIP" VALUE="org.apache.hadoop.io.compress.GzipCodec"/>
				<ITEM NAME="SNAPPY" VALUE="org.apache.hadoop.io.compress.SnappyCodec"/>
			</ITEMS>
        </PARAMETER>			
		
		<PARAMETER NAME="EXT_TABLE_OPTIONS" FIELD="CHECK" NUM_ROW="30" REPOSITORY_VALUE="EXT_TABLE_OPTIONS">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="REJECT_TYPE" FIELD="CLOSED_LIST" NUM_ROW="35" REQUIRED="true" SHOW_IF="(EXT_TABLE_OPTIONS == 'true')">
			<ITEMS DEFAULT="Value">
				<ITEM NAME="Value" VALUE="Value" />
				<ITEM NAME="Percentage" VALUE="Percentage"/>
			</ITEMS>
		</PARAMETER>
		
		<PARAMETER NAME="REJECT_VALUE" FIELD="TEXT" NUM_ROW="35" REQUIRED="true" SHOW_IF="(EXT_TABLE_OPTIONS == 'true')">
			<DEFAULT>"0"</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="REJECT_SAMPLE_VALUE" FIELD="TEXT" NUM_ROW="35" REQUIRED="true" SHOW_IF="(EXT_TABLE_OPTIONS == 'true') AND (REJECT_TYPE == 'Percentage')">
			<DEFAULT>"0"</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="DISTRIBUTION" FIELD="CLOSED_LIST" NUM_ROW="40" GROUP="DW_TABLE_PROPERTIES" REQUIRED="true" SHOW_IF="(TABLE_ACTION == 'DROP_CREATE') OR (TABLE_ACTION == 'DROP_IF_EXISTS_AND_CREATE') OR (TABLE_ACTION == 'CREATE') OR (TABLE_ACTION == 'CREATE_IF_NOT_EXISTS')">
			<ITEMS DEFAULT="ROUND_ROBIN">
				<ITEM NAME="ROUND_ROBIN" VALUE="ROUND_ROBIN" />
				<ITEM NAME="HASH" VALUE="HASH"/>
				<ITEM NAME="REPLICATE" VALUE="REPLICATE"/>
			</ITEMS>
		</PARAMETER>
		
		<PARAMETER NAME="DISTRIBUTION_COLUMN_NAME" FIELD="TEXT" NUM_ROW="40" GROUP="DW_TABLE_PROPERTIES" REQUIRED="true" SHOW_IF="((TABLE_ACTION == 'DROP_CREATE') OR (TABLE_ACTION == 'DROP_IF_EXISTS_AND_CREATE') OR (TABLE_ACTION == 'CREATE') OR (TABLE_ACTION == 'CREATE_IF_NOT_EXISTS')) AND (DISTRIBUTION == 'HASH')">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="TABLE_OPTION" FIELD="CLOSED_LIST" NUM_ROW="45" GROUP="DW_TABLE_PROPERTIES" REQUIRED="true" SHOW_IF="(TABLE_ACTION == 'DROP_CREATE') OR (TABLE_ACTION == 'DROP_IF_EXISTS_AND_CREATE') OR (TABLE_ACTION == 'CREATE') OR (TABLE_ACTION == 'CREATE_IF_NOT_EXISTS')">
			<ITEMS DEFAULT="CLUSTERED_COLUMNSTORE_INDEX">
				<ITEM NAME="CLUSTERED_COLUMNSTORE_INDEX" VALUE="CLUSTERED_COLUMNSTORE_INDEX" />
				<ITEM NAME="HEAP" VALUE="HEAP"/>
				<ITEM NAME="CLUSTERED_INDEX" VALUE="CLUSTERED_INDEX"/>
			</ITEMS>
		</PARAMETER>
		
		<PARAMETER NAME="INDEX_COLUMNS" FIELD="TEXT" NUM_ROW="46" GROUP="DW_TABLE_PROPERTIES" REQUIRED="true" SHOW_IF="((TABLE_ACTION == 'DROP_CREATE') OR (TABLE_ACTION == 'DROP_IF_EXISTS_AND_CREATE') OR (TABLE_ACTION == 'CREATE') OR (TABLE_ACTION == 'CREATE_IF_NOT_EXISTS')) AND (TABLE_OPTION == 'CLUSTERED_INDEX')">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="PARTITION" FIELD="CHECK" NUM_ROW="47" GROUP="DW_TABLE_PROPERTIES" REPOSITORY_VALUE="PARTITION" SHOW_IF="(TABLE_ACTION == 'DROP_CREATE') OR (TABLE_ACTION == 'DROP_IF_EXISTS_AND_CREATE') OR (TABLE_ACTION == 'CREATE') OR (TABLE_ACTION == 'CREATE_IF_NOT_EXISTS')">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="PARTITION_COLUMN_NAME" FIELD="TEXT" NUM_ROW="48" GROUP="DW_TABLE_PROPERTIES" REQUIRED="true" SHOW_IF="(PARTITION == 'true') AND ((TABLE_ACTION == 'DROP_CREATE') OR (TABLE_ACTION == 'DROP_IF_EXISTS_AND_CREATE') OR (TABLE_ACTION == 'CREATE') OR (TABLE_ACTION == 'CREATE_IF_NOT_EXISTS'))"> 
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="PARTITION_COLUMN_NAME_RANGE" FIELD="CLOSED_LIST" NUM_ROW="48" GROUP="DW_TABLE_PROPERTIES" REQUIRED="true" SHOW_IF="(PARTITION == 'true') AND ((TABLE_ACTION == 'DROP_CREATE') OR (TABLE_ACTION == 'DROP_IF_EXISTS_AND_CREATE') OR (TABLE_ACTION == 'CREATE') OR (TABLE_ACTION == 'CREATE_IF_NOT_EXISTS'))"> 
			<ITEMS DEFAULT="LEFT">
				<ITEM NAME="LEFT" VALUE="LEFT" />
				<ITEM NAME="RIGHT" VALUE="RIGHT"/>
			</ITEMS>
		</PARAMETER>	

		<PARAMETER NAME="PARTITION_VALUES" FIELD="TEXT" NUM_ROW="49" GROUP="DW_TABLE_PROPERTIES" REQUIRED="true" SHOW_IF="(PARTITION == 'true') AND ((TABLE_ACTION == 'DROP_CREATE') OR (TABLE_ACTION == 'DROP_IF_EXISTS_AND_CREATE') OR (TABLE_ACTION == 'CREATE') OR (TABLE_ACTION == 'CREATE_IF_NOT_EXISTS'))"> 
			<DEFAULT>""</DEFAULT>
		</PARAMETER>		

		
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
		<IMPORTS>
			<IMPORT NAME="microsoft-windowsazure-api-0.4.6" MODULE="microsoft-windowsazure-api-0.4.6.jar" MVN="mvn:org.talend.libraries/microsoft-windowsazure-api-0.4.6/6.0.0"  REQUIRED="true" />
            <IMPORT NAME="talend-azure-storage-utils-1.0.0" MODULE="talend-azure-storage-utils-1.0.0.jar" MVN="mvn:org.talend.libraries/talend-azure-storage-utils-1.0.0/6.0.0"  REQUIRED="true" />
			<IMPORT NAME="SQL-Server-Driver-6" MODULE="sqljdbc42.jar" REQUIRED="true" />
		</IMPORTS>
	</CODEGENERATION>

	<RETURNS>
		<RETURN NAME="NB_LINE_INSERTED" TYPE="id_Integer" AVAILABILITY="AFTER" />
	</RETURNS>
</COMPONENT>
